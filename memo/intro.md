## 잡담

타입스크립트는 js사용자에게는 날개를 꺾는 느낌도 있다
런타임에 타입이 정해지는 동적 타이핑 언어가 정적 타이핑 언어로 바뀌는 느낌이 들기 떄문이다
그러나 잘 활용하면 동적 타이핑 속성을 해치지 않으면서 타입 세이프티하게 코드를 짤 수. ㅣㅆ다

파이썬같은 인덴테이션 언어의 경우 코드가 적을 수록 성능이 좋았기에 기계 자체의 성능이 좋지 않았던 과거에는 인기가 있었다
그러나 현재는 블럭을 지정해서 편하게 스코프를 볼수 있게 하는게 훨씬더 효율적이라는 의견이 많다

타입스크립트는 트랜스파일러라고 볼수 있다

풀스택을 할거면 nextjs
앱을 만든다면 리액트

웹앱을 리액트로 짜고

nestjs는 객체지향 프로그래밍
nextjs는 함수형 프로그래밍이 철학이다

---

## 구성 네가지

- 프로그래밍 언어
- 타입 체커
- 컴파일러( Pre-Compiler )
  - TS Sytax tree 를 JS Code로 생성
- IDE

### TS 컴파일러

- 먼저 tsconfig.json이라는 파일을 읽는다
  - JS 중 어떤 버전을 사용할것인지
  - 어떤 파일을 컴파일할것인지
- a.ts, b.ts....등 ts 파일이 있다면 타입스크립트는 이 파일들을 한개의 파일로 합쳐서 중복된 코드를 날리는 등의 optimizing을 하는등의 전처리를 한다
- 코드를 쪼개 토크나이징을 한다 TS에서는 이걸 Scan이라고 한다
- 이후 parser로 AST를 만든다(JS와 비슷)
- Binder로 sytax tree를 모두 심볼(symbol) 객체로 만든다
- Type Checker
  - 타입 비교(Type Comparing) 시스템과 타입 추론(Type Inference) 시스템이 있다
    - 타입 비교
      - 비트 연산을 통해 구조적 타입비교
    - 타입 추론
      - 구문분석만 해서 키워드를 알아내어 심볼테이블에 이니셜 단계에서 타입이 추론된다
- Transform
- Emit -> _.js, _.d.ts와 같은 파일이 만들어진다

  - 자바스크립트로 만들 코드들은 js파일로
  - 타입 정의 등은 d.ts 파일로 만든다

- TS 플레이그라운드 : https://www.typescriptlang.org/play

  - d.ts, AST 등을 볼 수 있다

- 버전
  - 베타
  - rc : release candidate => 아직 베타 릴리즈 대기중

```ts
let i;
i = "str";
console.log(typeof i); // string
function fi(n: number) {
  i = n;
  i.toFixed();
}
fi(10);
i.toFixed(); // 에러
```

- `i`는 전역변수 이기에 `fi`를 실행하면 number타입이 되어야할것이다(JS기준)
- 그러나 TS에서는 같은 변수라도 스코프에 따라서 심볼테이블에 다른 심볼로 등록된다
  - 심볼테이블은 스코프마다 독립적이다
  - 하위스코프에서의 상위스코프의 변수들은 참조만 가지고 있다가 변형이 일어나면 둘다 등록된다
- 따라서 i는 타입을 유지한채로 에러가 발생하게된다

ts는 버전을 잘 지정해야 리소스가 적게 든다
버전을 낮게 지정하면 높은 단계부터 낮은단계까지 최적화시키기 떄문에 낭비이다
그래서 `ESNext`로 해놓는게 좋다

.map 파일 : 옵션
